---
id: gtmss
name: Add multiple recipes
file_version: 1.0.2
app_version: 0.9.7-1
file_blobs:
  core/views.py: 16d1c4785170c81d2f2adbe4660db22674630ef1
  core/tests.py: 7ce9bf424ccc5e8a5b1ee336e106e8f3ace3adb8
---

**This is a new editor**

Trying again

adding more lines

not saving instantly??

Kaise karna hai ?? `ðŸ“„ core/models.py`

kya change test karenge??




[https://github.com/facebook/lexical/blob/main/packages/lexical-markdown/src/index.ts#L68-L79](https://github.com/facebook/lexical/blob/main/packages/lexical-markdown/src/index.ts#L68-L79)

Code 1 -- doc 1

Code 2 -- doc 1 --- doc1 is out of sync

*   no need to change doc
    
*   need to change doc
    




Code 1 - doc 1

Code 1 - doc 2 -- code is out of sync




Code 1 - doc1

Code 2 - doc1 (Mark not out of sync) - we will not inform/show that this code is out of sync

Code 2 - opt out of sync notification

<br/>

in this view/function, we have to pass another field (ingredient id as `i`) in response. right now it's not being passed.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ core/views.py
```python
â¬œ 12     
â¬œ 13     
â¬œ 14     @staff_member_required
ðŸŸ© 15     def units_by_ingredient(request, ingredient_id=None):
ðŸŸ© 16         # TODO: handle wrong ingredient_id
ðŸŸ© 17         ingredient = Ingredient.objects.get(id=ingredient_id)
ðŸŸ© 18         unit_choices = get_unit_choices(supporting_measures=[ingredient.measure_obj])
ðŸŸ© 19         return JsonResponse({
ðŸŸ© 20             "unit_choices": list(unit_choices),
ðŸŸ© 21             "i": ingredient.id,
ðŸŸ© 22         })
ðŸŸ© 23     
```

<br/>

we need to modify it to test 1000 cost.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ core/tests.py
```python
â¬œ 8      
â¬œ 9      class TestIngredient:
â¬œ 10         @pytest.mark.django_db
ðŸŸ© 11         def test_ingredient_properties(self):
ðŸŸ© 12             # 1 kg of ingredient1 cost 100 euros
ðŸŸ© 13             ingredient_1 = IngredientFactory(cost=1000, unit="kg", quantity=1)
ðŸŸ© 14             # 1 litre of ingredient2 cost 10 euros
ðŸŸ© 15             ingredient_2 = IngredientFactory(cost=10, unit="l", quantity=1)
ðŸŸ© 16             assert ingredient_1.quantity_in_si_unit == Decimal(10000)
ðŸŸ© 17             assert ingredient_2.quantity_in_si_unit == Decimal(1)
ðŸŸ© 18             assert ingredient_1.cost_per_si_unit == Decimal('0.1')
ðŸŸ© 19             assert ingredient_2.cost_per_si_unit == Decimal(10)
â¬œ 20     
â¬œ 21     
â¬œ 22     class TestRecipe:
```

<br/>

testing something why




can multiple people edit this code???




<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBcmVjaXBlcyUzQSUzQWFudWppc20=/docs/gtmss).