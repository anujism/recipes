---
id: gtmss
name: Add multiple recipes
file_version: 1.1.0
app_version: 0.11.0
file_blobs:
  core/views.py: 9db81c9f99aba077a980d2eb25196aee66ad73e0
  core/tests.py: 7ce9bf424ccc5e8a5b1ee336e106e8f3ace3adb8
  core/factories.py: 8d31c509b786ad8cbf12a562d7aedc723f660b9e
cross_repo_file_blobs:
  Z2l0aHViJTNBJTNBcnRkLXRlc3QlM0ElM0Fhc2h2aW4tc2hhcm1h:
    lumache.py: 587fcfbfa64c1ae931ecafa52d1940c936800cae
---

**This is a new editor**

Trying again

adding more lines

not saving instantly??

Kaise karna hai ?? `ðŸ“„ core/models.py`

kya change test karenge??

[https://github.com/facebook/lexical/blob/main/packages/lexical-markdown/src/index.ts#L68-L79](https://github.com/facebook/lexical/blob/main/packages/lexical-markdown/src/index.ts#L68-L79)

Code 1 -- doc 1

Code 2 -- doc 1 --- doc1 is out of sync

*   no need to change doc
    
*   need to change doc
    

Code 1 - doc 1

Code 1 - doc 2 -- code is out of sync

Code 1 - doc1

Code 2 - doc1 (Mark not out of sync) - we will not inform/show that this code is out of sync

Code 2 - opt out of sync notification

<br/>

in this view/function, we have to pass another field (ingredient id as `i`) in response. right now it's not being passed.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ core/views.py
```python
â¬œ 5      
â¬œ 6      
â¬œ 7      @staff_member_required
ðŸŸ© 8      def units_by_ingredient(request, ingredient_id=None):
ðŸŸ© 9          # TODO: handle wrong ingredient_id
ðŸŸ© 10         ingredient = Ingredient.objects.get(id=ingredient_id)
ðŸŸ© 11         unit_choices = get_unit_choices(supporting_measures=[ingredient.measure_obj])
ðŸŸ© 12         return JsonResponse({
ðŸŸ© 13             "unit_choices": list(unit_choices),
ðŸŸ© 14         })
ðŸŸ© 15     
```

<br/>

we need to modify it to test 1000 cost.
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ core/tests.py
```python
â¬œ 8      
â¬œ 9      class TestIngredient:
â¬œ 10         @pytest.mark.django_db
ðŸŸ© 11         def test_ingredient_properties(self):
ðŸŸ© 12             # 1 kg of ingredient1 cost 100 euros
ðŸŸ© 13             ingredient_1 = IngredientFactory(cost=1000, unit="kg", quantity=1)
ðŸŸ© 14             # 1 litre of ingredient2 cost 10 euros
ðŸŸ© 15             ingredient_2 = IngredientFactory(cost=10, unit="l", quantity=1)
ðŸŸ© 16             assert ingredient_1.quantity_in_si_unit == Decimal(10000)
ðŸŸ© 17             assert ingredient_2.quantity_in_si_unit == Decimal(1)
ðŸŸ© 18             assert ingredient_1.cost_per_si_unit == Decimal('0.1')
ðŸŸ© 19             assert ingredient_2.cost_per_si_unit == Decimal(10)
â¬œ 20     
â¬œ 21     
â¬œ 22     class TestRecipe:
```

<br/>

testing something why

can multiple people edit this code???

<br/>

giuiuhoihhh iohihihiohoih iohiuhih
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
<!-- NOTE-swimm-repo ::Z2l0aHViJTNBJTNBcnRkLXRlc3QlM0ElM0Fhc2h2aW4tc2hhcm1h:: -->
### ðŸ“„ lumache.py
```python
ðŸŸ© 13     def get_random_ingredients(kind=None):
ðŸŸ© 14         """
ðŸŸ© 15         Return a list of random ingredients as strings.
ðŸŸ© 16     
ðŸŸ© 17         :param kind: Optional "kind" of ingredients.
ðŸŸ© 18         :type kind: list[str] or None
ðŸŸ© 19         :raise lumache.InvalidKindError: If the kind is invalid.
ðŸŸ© 20         :return: The ingredients list.
ðŸŸ© 21         :rtype: list[str]
ðŸŸ© 22         sth else
ðŸŸ© 23         """
ðŸŸ© 24         return ["shells", "gorgonzola", "parsley"]
```

<br/>

<br/>

<br/>

something needs to be written
<!-- NOTE-swimm-snippet: the lines below link your snippet to Swimm -->
### ðŸ“„ core/factories.py
```python
ðŸŸ© 6      class IngredientFactory(factory.django.DjangoModelFactory):
ðŸŸ© 7          name = factory.Sequence(lambda n: f"Ingredient {n}")
ðŸŸ© 8          some_other_field = 10
ðŸŸ© 9          article_number = factory.Sequence(lambda n: f"Ingredient Number {n}")
```

<br/>

<br/>

<br/>

This file was generated by Swimm. [Click here to view it in the app](https://app.swimm.io/repos/Z2l0aHViJTNBJTNBcmVjaXBlcyUzQSUzQWFudWppc20=/docs/gtmss).